{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container-fluid">
    <div class="row">
        <!-- Carousel -->
        <div id="carouselIndex" class="carousel slide carousel-fade" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselIndex" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselIndex" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselIndex" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
        
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="{% static 'img/cinema-slider.jpg' %}" class="d-block w-100" alt="A group of people enjoying a Movie in a Cinema.">
                </div>
              
                <div class="carousel-item">
                    <img src="{% static 'img/gaming-slider.jpg' %}" class="d-block w-100" alt="Two Girls on a couch playing videogames.">
                </div>
                <div class="carousel-item">
                    <img src="{% static 'img/camping-slider.jpg' %}" class="d-block w-100" alt="Two Girls outside camping in front of a campfire.">
                </div>
            </div>
        
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselIndex" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
        
            <button class="carousel-control-next" type="button" data-bs-target="#carouselIndex" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
          
    <div class="row">
        <p class="index-headline">Tomodachi lets you create and share Events and meet up with new people.</p>
        
        <div class="col-md-4 aboutsite">
            <p class="aboutsite-headline"><i class="fa-solid fa-calendar-plus"></i> Create personal Events within seconds</p>
            <p class="text-main">With just a few clicks you will be able to create your events and meetups. It takes no prior knowledge as long as you have all the information ready. Be it watching a movie, halo with the boys, or a girl's night out - Tomodachi can handle everything for you.</p>
        </div>
        
        <div class="col-md-4 aboutsite">
            <p class="aboutsite-headline"><i class="fa-solid fa-link"></i> Share your Events with new friends</p>
            <p class="text-main">Once you have created your event, you can share it via a simple link with all your friends. Registered Users will be able to see all the details like the location of the meetup and join it, signaling their attendance.</p>
        </div>
        
        <div class="col-md-4 aboutsite">
            <p class="aboutsite-headline"><i class="fa-solid fa-user-group"></i> Meet up and have fun together</p>
            <p class="text-main">Ever wanted to watch a Movie but none of your friends had time? Don't want to go alone? It's easy to find new friends with Tomodachi and explore your hobbies together. Sign up today for free so you can get started!</p>
        </div>
    </div>

    <div class="row">
        <p class="upcoming-headline">Upcoming Events</p>
        
        <!-- Show the next 4 upcoming Events -->
        <div class="col-12 mt-3 left">
            <div class="row">
            
                {% for event in event_list|slice:":4" %}
                <div class="col-md-6 col-lg-3">
                    <div class="card mb-3">
                        <div class="card-body">
                            <!-- Display Category with color coded background -->
                            <p class="category text-center {{ event.category_verbose }}">
                              {{ event.category_verbose }}
                              <!-- Show Calendar sign if you created the Event, same as in Navbar -->
                              {% if event.author == request.user %}
                              <i class="fa-solid fa-calendar-days"></i>
                              {% endif %}

                              <!-- Show Checkmark sign if you joined the Event -->
                              {% if request.user in event.attendees.all %}
                              <i class="fa-solid fa-check"></i>
                              {% endif %}
                            </p>
                                
                            <!-- Display basic quick event infos for overview -->
                            <p class="card-title">{{ event.title }}</p>
                            <p class="card-text">{{ event.location_time}}
                                <br>
                                Attendees: {{ event.number_of_attendees }}
                            </p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    {% if not user.is_authenticated %}
    <div class="row">
        <div class="col-12 mt-3 text-center">
            <!-- Signup Button on the Bottom -->
            <a href="{% url 'account_signup' %}" class="post-link">
                <span class="btn btn-edit btn-big">Sign up and start creating your own Events today!</span>
            </a>
        </div>
    </div>
    {% endif %}
</div>
  
<script>
    var myCarousel = document.querySelector('#carouselIndex')
    var carousel = new bootstrap.Carousel(myCarousel, {
        interval: 4000,
        pause: false,
    })
</script>
{%endblock%}